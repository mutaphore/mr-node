syntax = "proto3";

package masterrpc;

// Master rpc service definition
service Master {
  // Sends a ping
  rpc Ping (PingRequest) returns (PingReply) {}
  
  // Register a worker
  rpc Register (RegisterRequest) returns (RegisterReply) {}

  rpc JobDone (JobDoneRequest) returns (JobDoneReply) {}
}

// The ping request message
message PingRequest {
  string host = 1;
}

// The ping response message
message PingReply {
  string host = 1;
}

message RegisterRequest {
  string worker_id = 1;
  string worker_address = 2;
}

message RegisterReply {
  bool success = 1;
}

message JobDoneRequest {
  string operation = 1;
  int32 job_num = 2;
}

message JobDoneReply {
  bool success = 1;
}